<html lang="en">
  <head>

    <!-- Metadata
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>WubHub 2.0</title>

    <!-- Fonts
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Bungee|Tajawal" rel="stylesheet">

    <!-- CSS
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="stylesheet" href="css/main.css">

    <!-- Scripts
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <script src="js/wavesurfer.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="js/script.js" charset="utf-8"></script>

  </head>

  <body>
    <!-- Navbar
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <nav>
      <h1 id="logo">WubHub</h1>
      <div id="search-bar">
        <input type="text" id="search-bar-textbox"></input>
        <i class="material-icons" id="search-icon">search</i>
      </div>
    </nav>

    <!-- Main
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div id="main">
      <!--Song Container-->
      <div class="song">
        <img src="img/thumbnail.png" alt="Thumbnail" class="thumb">
        <!--Everything to the right of thumbnail-->
        <div class="song-content">
          <div class="song-header">
            <i class="fas fa-arrow-down play-icon" id="play" onclick="wavesurfer.playPause()" ></i>
            <div class="song-details">
              <p class="artist">The Noisy Freaks</p>
              <p class="song-name">Cheer Song</p>
            </div>
          </div>
          <div class="waveform">
          </div>
        </div>
      </div>
    </div>

    <!-- Wavesurvfer
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <script>

  		var wavesurfer = WaveSurfer.create({
  		  container: '.waveform',
  		  waveColor: '#8ec7ff',
  		  progressColor: 'dodgerblue',
        barHeight: 0.85,
        height: 96,
        barWidth: 2,
        cursorColor: '#1873cc',
        cursorWidth: 3
  		});

      var dondun = false;

      $(document).ready(function(){

        $('#play').click(function(){
          if(!dondun) {
            wavesurfer.load('audio/test.mp3');
            dondun = true;
            $('#play').removeClass("fa-ellipsis-h");
            $('#play').addClass("fa-play");
          } else {
            if ($('#play').hasClass("fa-play")) {
              $('#play').removeClass("fa-play");
              $('#play').addClass("fa-pause");
            } else {
              $('#play').removeClass("fa-pause");
              $('#play').addClass("fa-play");
            }
          }
        });

      });

  	</script>
  </body>
</html>
